syntax = "proto2";

import "mahjong-common.proto";
import "mahjong-rule.proto";

package ydec.msc;

message ScoreCalculationResponse {
  optional int32 fu = 1;
  optional int32 fan = 2;
  repeated mahjong.Yaku yaku = 3;
}

message YakuApplierResult {
  repeated mahjong.Yaku applicable_yaku = 1;
}

message HandParserResult {
  repeated ParsedHand parsed_hand = 1;
}

message ParsedHand {
  repeated Element element = 1;
  optional bool is_agarikei = 2;
}

message Element {
  optional mahjong.HandElementType type = 1;
  repeated ElementTile element_tile = 2;
}

message ElementTile {
  optional mahjong.TileType tile = 1;
  optional AcquireMethod acquire_method = 2;
}

enum AcquireMethod {
  TSUMO = 0;
  NAKI = 1;
  RON_AGARI = 2;
  TSUMO_AGARI = 3;
}