syntax = "proto2";

package mahjong;

import "mahjong-common.proto";

message Hand {
  repeated TileType closed_tiles = 1;  // not includes Agari-tile

  message Pon {
    optional TileType tile = 1;
    optional bool is_closed = 2;
  }

  repeated Pon ponned_tiles = 2;

  message Kan {
    optional TileType tile = 1;
    optional bool is_closed = 2;
  }

  repeated Kan Kanned_tiles = 3;

  optional bool is_tsumo = 4;

  optional bool is_reached = 5;

  optional TileType agari_tile = 6;
}

message Player {
  optional TileType my_wind = 1;
  optional Hand my_hand = 2;
}

message Field {
  optional TileType wind = 1; // Ton-ba, Nan-ba
  repeated TileType doras = 2; // Not dora hyouji hai
  optional int32 honba = 3;
}

message ScoreCalculationResponse {
  optional int32 fu = 1;
  optional int32 fan = 2;
}
